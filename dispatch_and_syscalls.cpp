#include "helpers.h"
#include <fcntl.h>
#include <dlfcn.h>
#include <bits/pthreadtypes.h>
#include <linux/posix_types.h>
#include <sys/types.h>
#include <string.h>

extern "C" {

extern int (*glibc_fprintf)(void *, const char *, ...);
extern void * (*glibc_fopen)(const char *, const char *);
extern ssize_t (*glibc_getline)(char **, size_t *, void *);
extern int (*glibc_fclose)(void *);
extern int (*glibc_vsscanf)(const char *, const char *, ...);
extern void **glibc_stderr;
extern void abort(void);
void free(void *ptr);

extern long (*glibc_syscall)(long int request, ...);

extern void *glibc_handle;
extern void *rt_handle;
extern void *gcc_handle;
extern void *pthread_handle;

extern void *setjmp_handle;

//extern void *(*glibc_dlsym)(void *handle, const char *name);

void *my_dlsym(void *handle, const char *name)
{
    return dlsym(handle, name);
}

/*int str_cmp(const char* a, const char* b)
{
    int i;
    for (i = 0; a[i] == b[i] && !a[i]; i++);
    return !b[i];
}

void print_string(void *s, int no)
{
    int maxlength = 200;
    int length;
    char *map;
    size_t map_len;
    int name_start = 0, name_end = 0;
    unsigned long addr_start, addr_end;
    char perms_str[8];
    unsigned long _offset;
    unsigned int _deviceMajor;
    unsigned int _deviceMinor;
    unsigned int _inode;
    int valid_ptr = 0;

    if (!glibc_fopen) glibc_fopen = (void * (*)(const char*, const char*))dlsym(glibc_handle, "fopen");
    if (!glibc_getline) glibc_getline = (ssize_t (*)(char **, size_t *, void *))dlsym(glibc_handle, "getline");
    if (!glibc_fclose) glibc_fclose = (int (*)(void *))dlsym(glibc_handle, "fclose");
    if (!glibc_vsscanf) glibc_vsscanf = (int (*)(const char *, const char *, ...))dlsym(glibc_handle, "vsscanf");

    if (s == NULL)
        return;
    void* maps = glibc_fopen("/proc/self/maps", "r");
    if (maps == 0)
        return;

    while (glibc_getline(&map, &map_len, (void*)maps) > 0) {
        glibc_vsscanf(map, "%lx-%lx %7s %lx %u:%u %lu %n%*[^\n]%n",
                     &addr_start, &addr_end, perms_str, &_offset,
                     &_deviceMajor, &_deviceMinor, &_inode,
                     &name_start, &name_end);
        if ((unsigned long)s >= addr_end || (unsigned long)s < addr_start)
            continue;

        for (unsigned int i = 0; i < sizeof(perms_str) / sizeof(char); i++) {
            if (perms_str[i] == 'r') {
                valid_ptr = 1;
                break;
            }
        }
        if (!valid_ptr)
            break;
    }
    free(map);
    glibc_fclose((void*)maps);
    if (!valid_ptr)
        return;
    for (length = 0; (unsigned int)(length + ((char*)s)) < addr_end && ((char*)s)[length] != 0 && length < 200; length++) {
        if (((char*)s)[length] < ' ')
            return;
    }
    if (length >= maxlength)
        return;
    FPRINTF_STDERR("arg%d: \"%s\"\n", no, (char*) s);
}
*/

#define DISPATCH(f, glibf, libupper, liblower) \
    void * f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) __asm__(#f); \
    void * f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) \
    { \
        LOAD_ ## libupper(); \
        FPRINTF_STDERR("%s(%p,%p,%p,%p,%p,%p,%p,%p,%p,%p ...)\n", #f, a, b, c, d, e, u, g, h, i, j); \
        if (strcmp(#f, "system") == 0) {\
            FPRINTF_STDERR("cmd: \"%s\"\n", a); \
        } \
        void* (*func)(void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*) =  \
                     (void* (*)(void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*))my_dlsym(liblower ## _handle, #glibf); \
        void* ret = func(a, b, c, d, e, u, g, h, i, j, k, l, m, n, o, p, q, r, s, t); \
        FPRINTF_STDERR("%s@%p returned %p\n", #glibf, func, ret); \
        return ret; \
    }

#define DISPATCH_GLIBC(f)          DISPATCH(f, f, GLIBC, glibc)
#define DISPATCH_GLIBC2(f, glibf)  DISPATCH(f, glibf, GLIBC, glibc)
#define DISPATCH_GCC(f)            DISPATCH(f, f, GCC, gcc)
#define DISPATCH_RT(f)             DISPATCH(f, f, RT, rt)
#define DISPATCH_PTHREAD(f)        DISPATCH(f, f, PTHREAD, pthread)
extern void init_setjmp();
#define DISPATCH_SETJMP(f) \
    void * f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) __asm__(#f); \
    void * f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) \
    { \
        init_setjmp(); \
        FPRINTF_STDERR("%s(%p,%p,%p,%p,%p,%p,%p,%p,%p,%p ...)\n", #f, a, b, c, d, e, u, g, h, i, j); \
        void* (*func)(void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*) =  \
                     (void* (*)(void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*,void*))my_dlsym(setjmp_handle, STRINGIFY(my_##f)); \
        void* ret = func(a, b, c, d, e, u, g, h, i, j, k, l, m, n, o, p, q, r, s, t); \
        FPRINTF_STDERR("%s@%p returned %p\n", #f, func, ret); \
        return ret; \
    }

#define DUMMY(f) \
    void f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) __asm__(#f); \
    void f ## _dispatch(void* a, void* b, void* c, void* d, void* e, void* u, void* g, void* h, void* i, void* j, void* k, void* l, void* m, void* n, void* o, void* p, void* q, void* r, void* s, void* t) \
    { \
        FPRINTF_STDERR("@@@@@@@ DUMMY FUNCTION: %s(%p,%p,%p,%p,%p,%p,%p,%p,%p,%p ...)\n", #f, a, b, c, d, e, u, g, h, i, j); \
    }
/*

DUMMY(readdir_r);

*/

DISPATCH_GLIBC(__cxa_at_quick_exit);
DISPATCH_GLIBC(mblen);
DISPATCH_GLIBC(wctrans);
DISPATCH_GLIBC(towctrans);
DISPATCH_GLIBC(__aeabi_memcpy);
DISPATCH_GLIBC(__aeabi_memset);
DISPATCH_GLIBC(__aeabi_memmove);
DISPATCH_GLIBC(__aeabi_atexit);

// ALL
DUMMY(___Unwind_Backtrace);
DUMMY(___Unwind_ForcedUnwind);
DUMMY(___Unwind_RaiseException);
DUMMY(___Unwind_Resume);
DUMMY(___Unwind_Resume_or_Rethrow);
DUMMY(__accept4);
DUMMY(__adddf3);
DUMMY(__addsf3);
DISPATCH_GCC(__aeabi_cdcmpeq);
DISPATCH_GCC(__aeabi_cdcmple);
DISPATCH_GCC(__aeabi_cdrcmple);
DISPATCH_GCC(__aeabi_d2f);
DISPATCH_GCC(__aeabi_d2iz);
DISPATCH_GCC(__aeabi_dadd);
DISPATCH_GCC(__aeabi_dcmpeq);
DISPATCH_GCC(__aeabi_dcmpge);
DISPATCH_GCC(__aeabi_dcmpgt);
DISPATCH_GCC(__aeabi_dcmple);
DISPATCH_GCC(__aeabi_dcmplt);
DISPATCH_GCC(__aeabi_dcmpun);
DISPATCH_GCC(__aeabi_ddiv);
DISPATCH_GCC(__aeabi_dmul);
DISPATCH_GCC(__aeabi_drsub);
DISPATCH_GCC(__aeabi_dsub);
DISPATCH_GCC(__aeabi_f2d);
DISPATCH_GCC(__aeabi_f2iz);
DISPATCH_GCC(__aeabi_f2uiz);
DISPATCH_GCC(__aeabi_fadd);
DISPATCH_GCC(__aeabi_fcmpun);
DISPATCH_GCC(__aeabi_fdiv);
DISPATCH_GCC(__aeabi_fmul);
DISPATCH_GCC(__aeabi_frsub);
DISPATCH_GCC(__aeabi_fsub);
DISPATCH_GCC(__aeabi_i2d);
DISPATCH_GCC(__aeabi_i2f);
DISPATCH_GCC(__aeabi_idiv);
DISPATCH_GCC(__aeabi_idiv0);
DISPATCH_GCC(__aeabi_idivmod);
DISPATCH_GCC(__aeabi_l2d);
DISPATCH_GCC(__aeabi_l2f);
DISPATCH_GCC(__aeabi_lasr);
DISPATCH_GCC(__aeabi_ldiv0);
DISPATCH_GCC(__aeabi_ldivmod);
DISPATCH_GCC(__aeabi_llsl);
DISPATCH_GCC(__aeabi_llsr);
DISPATCH_GCC(__aeabi_lmul);
DISPATCH_GCC(__aeabi_memclr);
DISPATCH_GCC(__aeabi_memclr4);
DISPATCH_GCC(__aeabi_memclr8);
DISPATCH_GCC(__aeabi_memcpy4);
DISPATCH_GCC(__aeabi_memcpy8);
DISPATCH_GCC(__aeabi_memmove4);
DISPATCH_GCC(__aeabi_memmove8);
DISPATCH_GCC(__aeabi_memset4);
DISPATCH_GCC(__aeabi_memset8);
DISPATCH_GCC(__aeabi_ui2d);
DISPATCH_GCC(__aeabi_ui2f);
DISPATCH_GCC(__aeabi_uidiv);
DISPATCH_GCC(__aeabi_uidivmod);
DISPATCH_GCC(__aeabi_ul2d);
DISPATCH_GCC(__aeabi_ul2f);
DISPATCH_GCC(__aeabi_uldivmod);
DISPATCH_GCC(__aeabi_unwind_cpp_pr0);
DISPATCH_GCC(__aeabi_unwind_cpp_pr1);
DISPATCH_GCC(__aeabi_unwind_cpp_pr2);
DUMMY(__arm_fadvise64_64);
DUMMY(__ashldi3);
DUMMY(__ashrdi3);
DUMMY(__bionic_brk);
DUMMY(__bionic_libgcc_compat_symbols);
DUMMY(__bionic_libgcc_unwind_symbols);
//DUMMY(__dso_handle);
DUMMY(__gnu_Unwind_Backtrace);
DUMMY(__gnu_unwind_execute);
DISPATCH_GLIBC(__gnu_Unwind_Find_exidx);
DUMMY(__gnu_Unwind_ForcedUnwind);
DUMMY(__gnu_unwind_frame);
DUMMY(__gnu_Unwind_RaiseException);
DUMMY(__gnu_Unwind_Restore_VFP);
DUMMY(__gnu_Unwind_Restore_VFP_D);
DUMMY(__gnu_Unwind_Restore_VFP_D_16_to_31);
DUMMY(__gnu_Unwind_Restore_WMMXC);
DUMMY(__gnu_Unwind_Restore_WMMXD);
DUMMY(__gnu_Unwind_Resume);
DUMMY(__gnu_Unwind_Resume_or_Rethrow);
DUMMY(__gnu_Unwind_Save_VFP);
DUMMY(__gnu_Unwind_Save_VFP_D);
DUMMY(__gnu_Unwind_Save_VFP_D_16_to_31);
DUMMY(__gnu_Unwind_Save_WMMXC);
DUMMY(__gnu_Unwind_Save_WMMXD);
DUMMY(_Unwind_Backtrace);
DUMMY(_Unwind_Complete);
DUMMY(_Unwind_DeleteException);
DUMMY(_Unwind_ForcedUnwind);
DUMMY(_Unwind_GetCFA);
DUMMY(_Unwind_GetDataRelBase);
DUMMY(_Unwind_GetLanguageSpecificData);
DUMMY(_Unwind_GetRegionStart);
DUMMY(_Unwind_GetTextRelBase);
DUMMY(_Unwind_RaiseException);
DUMMY(_Unwind_Resume);
DUMMY(_Unwind_Resume_or_Rethrow);
DUMMY(_Unwind_VRS_Get);
DUMMY(_Unwind_VRS_Pop);
DUMMY(_Unwind_VRS_Set);
DUMMY(atexit);
DUMMY(dlmalloc);
DUMMY(dlmalloc_inspect_all);
DUMMY(dlmalloc_trim);
DUMMY(dlmalloc_usable_size);
DUMMY(gMallocLeakZygoteChild);
DUMMY(SHA1Final);
DUMMY(SHA1Init);
DUMMY(SHA1Transform);
DUMMY(SHA1Update);

DISPATCH_GLIBC(__assert);
//DUMMY(__assert2);
DUMMY(__atomic_cmpxchg);
DUMMY(__atomic_dec);
DUMMY(__atomic_inc);
DUMMY(__atomic_swap);
DUMMY(__b64_ntop);
DUMMY(__b64_pton);
DUMMY(__brk);
DUMMY(__cmpdf2);
DUMMY(__cmsg_nxthdr);
DUMMY(__connect);
DISPATCH_GLIBC(__ctype_get_mb_cur_max);
DISPATCH_GLIBC(__cxa_atexit);
//DUMMY(__cxa_finalize);
DISPATCH_GLIBC(__cxa_thread_atexit_impl);
DUMMY(__divdf3);
DUMMY(__divdi3);
DUMMY(__divsf3);
DUMMY(__divsi3);
DUMMY(__dn_comp);
DUMMY(__dn_count_labels);
DUMMY(__dn_skipname);
DUMMY(__epoll_pwait);
DUMMY(__eqdf2);
DISPATCH_GLIBC2(__errno, __errno_location);
DUMMY(__exit);
DUMMY(__extendsfdf2);
DUMMY(__fadvise64);
DUMMY(__fbufsize);
DUMMY(__fcntl64);
//DUMMY(__FD_CLR_chk);
//DUMMY(__FD_ISSET_chk);
//DUMMY(__FD_SET_chk);
DUMMY(__fgets_chk);
DUMMY(__fixdfsi);
DUMMY(__fixsfsi);
DUMMY(__fixunssfsi);
DUMMY(__flbf);
DUMMY(__floatdidf);
DUMMY(__floatdisf);
DUMMY(__floatsidf);
DUMMY(__floatsisf);
DUMMY(__floatundidf);
DUMMY(__floatundisf);
DUMMY(__floatunsidf);
DUMMY(__floatunsisf);
DUMMY(__fp_nquery);
DUMMY(__fp_query);
DUMMY(__fpclassify);
DUMMY(__fpclassifyd);
DUMMY(__fpclassifyf);
DUMMY(__fpclassifyl);
DUMMY(__fpending);
DUMMY(__fpurge);
DUMMY(__freadable);
DUMMY(__fsetlocking);
DUMMY(__fstatfs64);
DUMMY(__futex_wait);
DUMMY(__futex_wake);
DUMMY(__fwritable);
DUMMY(__gedf2);
//DUMMY(__get_h_errno);
DUMMY(__get_thread);
DUMMY(__get_tls);
DUMMY(__getcpu);
DUMMY(__getcwd);
DUMMY(__getdents64);
DUMMY(__getpid);
DUMMY(__getpriority);
DISPATCH_GLIBC2(__gnu_basename, basename); // TODO
DUMMY(__gnu_ldivmod_helper);
DISPATCH_GLIBC2(__gnu_strerror_r, strerror_r); // TODO
DUMMY(__gnu_uldivmod_helper);
DUMMY(__gtdf2);
DUMMY(__hostalias);
DUMMY(__ioctl);
//DUMMY(__isfinite);
//DUMMY(__isfinitef);
DUMMY(__isfinitel);
//DUMMY(__isinf);
//DUMMY(__isinff);
DUMMY(__isinfl);
//DUMMY(__isnan);
//DUMMY(__isnanf);
DUMMY(__isnanl);
//DUMMY(__isnormal);
//DUMMY(__isnormalf);
DUMMY(__isnormall);
DUMMY(__isthreaded);
DUMMY(__ledf2);
DUMMY(__libc_current_sigrtmax);
DUMMY(__libc_current_sigrtmin);
DUMMY(__libc_init);
DUMMY(__llseek);
DUMMY(__loc_aton);
DUMMY(__loc_ntoa);
DUMMY(__lshrdi3);
DUMMY(__ltdf2);
DISPATCH_GLIBC2(__memchr_chk, memchr); // TODO
DISPATCH_GLIBC(__memcpy_chk);
DISPATCH_GLIBC(__memmove_chk);
DISPATCH_GLIBC(__memrchr_chk);
DISPATCH_GLIBC(__memset_chk);
DUMMY(__mmap2);
DUMMY(__moddi3);
DUMMY(__muldf3);
DUMMY(__muldi3);
DUMMY(__mulsf3);
DUMMY(__nedf2);
DUMMY(__ns_format_ttl);
DUMMY(__ns_get16);
DUMMY(__ns_get32);
DUMMY(__ns_initparse);
DUMMY(__ns_makecanon);
DUMMY(__ns_msg_getflag);
DUMMY(__ns_name_compress);
DUMMY(__ns_name_ntol);
DUMMY(__ns_name_ntop);
DUMMY(__ns_name_pack);
DUMMY(__ns_name_pton);
DUMMY(__ns_name_rollback);
DUMMY(__ns_name_skip);
DUMMY(__ns_name_uncompress);
DUMMY(__ns_name_unpack);
DUMMY(__ns_parserr);
DUMMY(__ns_put16);
DUMMY(__ns_put32);
DUMMY(__ns_samename);
DUMMY(__ns_skiprr);
DUMMY(__ns_sprintrr);
DUMMY(__ns_sprintrrf);
DUMMY(__open);
DISPATCH_GLIBC(__open_2);
DUMMY(__openat);
DUMMY(__openat_2);
DUMMY(__p_cdname);
DUMMY(__p_cdnname);
DUMMY(__p_class);
DUMMY(__p_class_syms);
DUMMY(__p_fqname);
DUMMY(__p_fqnname);
DUMMY(__p_option);
DUMMY(__p_query);
DUMMY(__p_rcode);
DUMMY(__p_secstodate);
DUMMY(__p_time);
DUMMY(__p_type);
DUMMY(__p_type_syms);
DUMMY(__page_shift);
DUMMY(__page_size);
DUMMY(__poll_chk);
DUMMY(__popcount_tab);
DUMMY(__popcountsi2);
DUMMY(__ppoll);
DUMMY(__ppoll_chk);
DUMMY(__pread64_chk);
DUMMY(__pread_chk);
//DUMMY(__progname);
DUMMY(__pselect6);
DUMMY(__pthread_cleanup_pop);
DUMMY(__pthread_cleanup_push);
//DUMMY(__pthread_gettid);
DUMMY(__ptrace);
DUMMY(__putlong);
DUMMY(__putshort);
DISPATCH_GLIBC(__read_chk);
DUMMY(__readlink_chk);
DUMMY(__readlinkat_chk);
DUMMY(__reboot);
DISPATCH_GLIBC(__recvfrom_chk);
DISPATCH_GLIBC(__register_atfork);
DUMMY(__res_close);
DUMMY(__res_dnok);
DUMMY(__res_hnok);
DUMMY(__res_hostalias);
DUMMY(__res_isourserver);
DUMMY(__res_mailok);
DUMMY(__res_nameinquery);
DUMMY(__res_nclose);
DUMMY(__res_ninit);
DUMMY(__res_nmkquery);
DUMMY(__res_nquery);
DUMMY(__res_nquerydomain);
DUMMY(__res_nsearch);
DUMMY(__res_nsend);
DUMMY(__res_ownok);
DUMMY(__res_queriesmatch);
DUMMY(__res_querydomain);
DUMMY(__res_send);
DUMMY(__res_send_setqhook);
DUMMY(__res_send_setrhook);
DUMMY(__restore_core_regs);
DUMMY(__rt_sigaction);
//DUMMY(__rt_sigpending);
//DUMMY(__rt_sigprocmask);
//DUMMY(__rt_sigsuspend);
//DUMMY(__rt_sigtimedwait);
DUMMY(__sched_cpualloc);
DUMMY(__sched_cpucount);
DUMMY(__sched_cpufree);
DUMMY(__sched_getaffinity);
DUMMY(__sclose);
DUMMY(__sdidinit);
DUMMY(__set_errno);
DUMMY(__set_thread_area);
DUMMY(__set_tid_address);
DUMMY(__set_tls);
//DUMMY(__sF);
DUMMY(__sflags);
DUMMY(__sflush);
DUMMY(__sfp);
DUMMY(__sglue);
DISPATCH_GLIBC(__sigaction);
//DUMMY(__signalfd4);
DUMMY(__sinit);
DUMMY(__smakebuf);
//DUMMY(__snprintf_chk);
DUMMY(__socket);
//DUMMY(__sprintf_chk);
DUMMY(__sread);
DUMMY(__srefill);
DUMMY(__srget);
DUMMY(__sseek);
DISPATCH_GLIBC(__stack_chk_fail);
//DUMMY(__stack_chk_guard);
DUMMY(__statfs64);
DISPATCH_GLIBC(__stpcpy_chk);
DUMMY(__stpncpy_chk);
DUMMY(__stpncpy_chk2);
DISPATCH_GLIBC(__strcat_chk);
DISPATCH_GLIBC2(__strchr_chk, strchr); // TODO
DISPATCH_GLIBC(__strcpy_chk);
//DUMMY(__strlcat_chk);
//DUMMY(__strlcpy_chk);
DISPATCH_GLIBC2(__strlen_chk, strlen); // TODO
DISPATCH_GLIBC(__strncat_chk);
DISPATCH_GLIBC(__strncpy_chk);
//DUMMY(__strncpy_chk2);
DISPATCH_GLIBC2(__strrchr_chk, strrchr); // TODO
DUMMY(__subdf3);
DUMMY(__subsf3);
DUMMY(__swbuf);
DUMMY(__swrite);
DUMMY(__swsetup);
DUMMY(__sym_ntop);
DUMMY(__sym_ntos);
DUMMY(__sym_ston);
DUMMY(__system_properties_init);
DUMMY(__system_property_add);
DUMMY(__system_property_area__);
DUMMY(__system_property_area_init);
//DUMMY(__system_property_area_serial);
//DUMMY(__system_property_find);
DUMMY(__system_property_find_nth);
//DUMMY(__system_property_foreach);
//DUMMY(__system_property_get);
//DUMMY(__system_property_read);
//DUMMY(__system_property_serial);
//DUMMY(__system_property_set);
DUMMY(__system_property_set_filename);
DUMMY(__system_property_update);
DUMMY(__system_property_wait_any);
DUMMY(__timer_create);
DUMMY(__timer_delete);
DUMMY(__timer_getoverrun);
DUMMY(__timer_gettime);
DUMMY(__timer_settime);
DUMMY(__truncdfsf2);
DUMMY(__udivdi3);
DUMMY(__udivsi3);
DISPATCH_GLIBC2(__umask_chk, umask);
DUMMY(__umoddi3);
DUMMY(__unorddf2);
DUMMY(__unordsf2);
//DUMMY(__vsnprintf_chk);
DUMMY(__vsprintf_chk);
DUMMY(__wait4);
DUMMY(__waitid);
//DUMMY(_ctype_);
DISPATCH_GLIBC(_Exit);
DISPATCH_GLIBC(_exit);
DUMMY(_flush_cache);
DUMMY(_flushlbf);
DUMMY(_fwalk);
DUMMY(_getlong);
DUMMY(_getshort);
DISPATCH_SETJMP(_longjmp);
DUMMY(_resolv_delete_cache_for_net);
DUMMY(_resolv_flush_cache_for_net);
DUMMY(_resolv_set_nameservers_for_net);
DISPATCH_SETJMP(_setjmp);
DUMMY(_tolower);
DUMMY(_tolower_tab_);
DUMMY(_toupper);
DUMMY(_toupper_tab_);
DISPATCH_GLIBC(abort);
DISPATCH_GLIBC(abs);
DISPATCH_GLIBC(accept);
DUMMY(accept4);
DISPATCH_GLIBC(access);
DUMMY(acct);
DISPATCH_GLIBC(alarm);
DUMMY(alphasort);
DUMMY(alphasort64);
DUMMY(android_getaddrinfofornet);
DUMMY(android_getaddrinfofornetcontext);
DUMMY(android_gethostbyaddrfornet);
DUMMY(android_gethostbynamefornet);
//DUMMY(android_set_abort_message);
DISPATCH_GLIBC(arc4random);
DISPATCH_GLIBC(arc4random_addrandom);
DISPATCH_GLIBC(arc4random_buf);
DISPATCH_GLIBC(arc4random_stir);
DISPATCH_GLIBC(arc4random_uniform);
DISPATCH_GLIBC(asctime);
DISPATCH_GLIBC(asctime64);
DISPATCH_GLIBC(asctime64_r);
DISPATCH_GLIBC(asctime_r);
//DUMMY(asprintf);
DUMMY(at_quick_exit);
//DUMMY(atof);
DISPATCH_GLIBC(atoi);
DISPATCH_GLIBC(atol);
DISPATCH_GLIBC(atoll);
DUMMY(basename);
DUMMY(basename_r);
DUMMY(bcopy);
DISPATCH_GLIBC(bind);
DUMMY(bindresvport);
DUMMY(brk);
DUMMY(bsd_signal);
DISPATCH_GLIBC(bsearch);
DISPATCH_GLIBC(btowc);
DUMMY(bzero);
DUMMY(c16rtomb);
DUMMY(c32rtomb);
DUMMY(cacheflush);
DISPATCH_GLIBC(calloc);
DISPATCH_GLIBC(capget);
DISPATCH_GLIBC(capset);
DUMMY(cfgetispeed);
DUMMY(cfgetospeed);
DUMMY(cfmakeraw);
DUMMY(cfsetispeed);
DUMMY(cfsetospeed);
DUMMY(cfsetspeed);
DISPATCH_GLIBC(chdir);
DISPATCH_GLIBC(chmod);
DISPATCH_GLIBC(chown);
DISPATCH_GLIBC(chroot);
DISPATCH_GLIBC(clearenv);
DISPATCH_GLIBC(clearerr);
DISPATCH_GLIBC(clearerr_unlocked);
DISPATCH_GLIBC(clock);
DISPATCH_RT(clock_getcpuclockid);
DISPATCH_RT(clock_getres);
DISPATCH_RT(clock_gettime);
DISPATCH_RT(clock_nanosleep);
DISPATCH_RT(clock_settime);
DUMMY(clone);
DISPATCH_GLIBC(close);
DISPATCH_GLIBC(closedir);
//DUMMY(closelog);
DISPATCH_GLIBC(connect);
DUMMY(creat);
DUMMY(creat64);
DISPATCH_GLIBC(ctime);
DISPATCH_GLIBC(ctime64);
DISPATCH_GLIBC(ctime64_r);
DISPATCH_GLIBC(ctime_r);
DISPATCH_GLIBC(daemon);
DUMMY(daylight);
DISPATCH_GLIBC(delete_module);
//DUMMY(difftime);
DUMMY(dirfd);
DUMMY(dirname);
DUMMY(dirname_r);
DUMMY(div);
DUMMY(dn_expand);
//DUMMY(dprintf);
//DUMMY(drand48);
DISPATCH_GLIBC(dup);
DISPATCH_GLIBC(dup2);
DISPATCH_GLIBC(dup3);
DUMMY(duplocale);
DISPATCH_GLIBC(endmntent);
DUMMY(endpwent);
DUMMY(endservent);
DUMMY(endusershell);
DUMMY(endutent);
DUMMY(environ);
DISPATCH_GLIBC(epoll_create);
DISPATCH_GLIBC(epoll_create1);
DISPATCH_GLIBC(epoll_ctl);
DISPATCH_GLIBC(epoll_pwait);
DISPATCH_GLIBC(epoll_wait);
//DUMMY(erand48);
DUMMY(err);
DUMMY(error);
DUMMY(error_at_line);
DUMMY(error_message_count);
DUMMY(error_one_per_line);
DUMMY(error_print_progname);
DUMMY(errx);
DUMMY(ether_aton);
DUMMY(ether_aton_r);
DUMMY(ether_ntoa);
DUMMY(ether_ntoa_r);
DISPATCH_GLIBC(eventfd);
DISPATCH_GLIBC(eventfd_read);
DISPATCH_GLIBC(eventfd_write);
DISPATCH_GLIBC(execl);
DISPATCH_GLIBC(execle);
DISPATCH_GLIBC(execlp);
DISPATCH_GLIBC(execv);
DISPATCH_GLIBC(execve);
DISPATCH_GLIBC(execvp);
DISPATCH_GLIBC(execvpe);
DISPATCH_GLIBC(exit);
DISPATCH_GLIBC(faccessat);
DUMMY(fake_gmtime_r);
DUMMY(fake_localtime_r);
DUMMY(fallocate);
DUMMY(fallocate64);
DISPATCH_GLIBC(fchdir);
DISPATCH_GLIBC(fchmod);
DISPATCH_GLIBC(fchmodat);
DISPATCH_GLIBC(fchown);
DISPATCH_GLIBC(fchownat);
//DUMMY(fclose);
DISPATCH_GLIBC(fcntl);
DUMMY(fdatasync);
//DUMMY(fdopen);
DUMMY(fdopendir);
DUMMY(fdprintf);
//DUMMY(feof);
DUMMY(feof_unlocked);
//DUMMY(ferror);
DUMMY(ferror_unlocked);
//DUMMY(fflush);
DUMMY(ffs);
//DUMMY(fgetc);
DUMMY(fgetln);
//DUMMY(fgetpos);
//DUMMY(fgets);
//DUMMY(fgetwc);
//DUMMY(fgetws);
DUMMY(fgetxattr);
//DUMMY(fileno);
DUMMY(flistxattr);
DUMMY(flock);
DUMMY(flockfile);
DUMMY(fmemopen);
DUMMY(fnmatch);
//DUMMY(fopen);
DISPATCH_GLIBC(fork);
DUMMY(forkpty);
DISPATCH_GLIBC(fpathconf);
//DUMMY(fprintf);
DUMMY(fpurge);
//DUMMY(fputc);
//DUMMY(fputs);
//DUMMY(fputwc);
//DUMMY(fputws);
//DUMMY(fread);
DISPATCH_GLIBC(free);
DUMMY(free_malloc_leak_info);
//DUMMY(freeaddrinfo);
DISPATCH_GLIBC(freelocale);
DUMMY(fremovexattr);
//DUMMY(freopen);
//DUMMY(fscanf);
//DUMMY(fseek);
//DUMMY(fseeko);
//DUMMY(fsetpos);
DUMMY(fsetxattr);
//DUMMY(fstat);
DUMMY(fstat64);
//DUMMY(fstatat);
DUMMY(fstatat64);
DUMMY(fstatfs);
DISPATCH_GLIBC(fstatfs64);
DISPATCH_GLIBC(fstatvfs);
DISPATCH_GLIBC(fstatvfs64);
DISPATCH_GLIBC(fsync);
//DUMMY(ftell);
//DUMMY(ftello);
DUMMY(ftime);
DUMMY(ftok);
//DUMMY(ftruncate);
DUMMY(ftruncate64);
DUMMY(ftrylockfile);
DUMMY(fts_children);
DUMMY(fts_close);
DUMMY(fts_open);
DUMMY(fts_read);
DUMMY(fts_set);
DUMMY(ftw);
DUMMY(ftw64);
DUMMY(funlockfile);
//DUMMY(funopen);
DUMMY(futimens);
//DUMMY(fwide);
//DUMMY(fwprintf);
//DUMMY(fwrite);
//DUMMY(fwscanf);
DUMMY(gai_strerror);
DUMMY(get_avphys_pages);
DUMMY(get_malloc_leak_info);
DUMMY(get_nprocs);
DUMMY(get_nprocs_conf);
DUMMY(get_phys_pages);
//DUMMY(getaddrinfo);
DISPATCH_GLIBC(getauxval);
//DUMMY(getc);
DUMMY(getc_unlocked);
DISPATCH_GLIBC(getchar);
DISPATCH_GLIBC(getchar_unlocked);
DISPATCH_GLIBC(getcwd);
DUMMY(getdelim);
DUMMY(getdents);
DUMMY(getdtablesize);
DISPATCH_GLIBC(getegid);
DISPATCH_GLIBC(getenv);
DISPATCH_GLIBC(geteuid);
DISPATCH_GLIBC(getgid);
DISPATCH_GLIBC(getgrgid);
DISPATCH_GLIBC(getgrnam);
DISPATCH_GLIBC(getgrouplist);
DISPATCH_GLIBC(getgroups);
DISPATCH_GLIBC(gethostbyaddr);
DISPATCH_GLIBC(gethostbyaddr_r);
DISPATCH_GLIBC(gethostbyname);
DISPATCH_GLIBC(gethostbyname2);
DISPATCH_GLIBC(gethostbyname2_r);
DISPATCH_GLIBC(gethostbyname_r);
DISPATCH_GLIBC(gethostent);
DISPATCH_GLIBC(gethostname);
DISPATCH_GLIBC(getitimer);
//DUMMY(getline);
DISPATCH_GLIBC(getlogin);
DISPATCH_GLIBC(getmntent);
DISPATCH_GLIBC(getmntent_r);
DISPATCH_GLIBC(getnameinfo);
DISPATCH_GLIBC(getnetbyaddr);
DISPATCH_GLIBC(getnetbyname);
DISPATCH_GLIBC(getopt);
DISPATCH_GLIBC(getopt_long);
DISPATCH_GLIBC(getopt_long_only);
DISPATCH_GLIBC(getpagesize);
DISPATCH_GLIBC(getpeername);
DISPATCH_GLIBC(getpgid);
DISPATCH_GLIBC(getpgrp);
DISPATCH_GLIBC(getpid);
DISPATCH_GLIBC(getppid);
DISPATCH_GLIBC(getpriority);
//DUMMY(getprogname);
DISPATCH_GLIBC(getprotobyname);
DISPATCH_GLIBC(getprotobynumber);
DISPATCH_GLIBC(getpt);
DISPATCH_GLIBC(getpwnam);
DISPATCH_GLIBC(getpwnam_r);
DISPATCH_GLIBC(getpwuid);
DISPATCH_GLIBC(getpwuid_r);
DISPATCH_GLIBC(getresgid);
DISPATCH_GLIBC(getresuid);
DISPATCH_GLIBC(getrlimit);
DISPATCH_GLIBC(getrlimit64);
DISPATCH_GLIBC(getrusage);
DISPATCH_GLIBC(gets);
DISPATCH_GLIBC(getservbyname);
DISPATCH_GLIBC(getservbyport);
DISPATCH_GLIBC(getservent);
DISPATCH_GLIBC(getsid);
DISPATCH_GLIBC(getsockname);
DISPATCH_GLIBC(getsockopt);
//DUMMY(gettid);
DISPATCH_GLIBC(gettimeofday);
DISPATCH_GLIBC(getuid);
DISPATCH_GLIBC(getusershell);
DISPATCH_GLIBC(getutent);
//DUMMY(getwc);
DISPATCH_GLIBC(getwchar);
DISPATCH_GLIBC(getxattr);
DISPATCH_GLIBC(gmtime);
DISPATCH_GLIBC(gmtime64);
DISPATCH_GLIBC(gmtime64_r);
DISPATCH_GLIBC(gmtime_r);
DISPATCH_GLIBC(grantpt);
DUMMY(herror);
DUMMY(hstrerror);
DUMMY(htonl);
DUMMY(htons);
DUMMY(if_indextoname);
DISPATCH_GLIBC(if_nametoindex);
DUMMY(imaxabs);
DUMMY(imaxdiv);
DUMMY(index);
DISPATCH_GLIBC(inet_addr);
DISPATCH_GLIBC(inet_aton);
DUMMY(inet_lnaof);
DUMMY(inet_makeaddr);
DUMMY(inet_netof);
DUMMY(inet_network);
DUMMY(inet_nsap_addr);
DUMMY(inet_nsap_ntoa);
DISPATCH_GLIBC(inet_ntoa);
DUMMY(inet_ntop);
DUMMY(inet_pton);
DISPATCH_GLIBC(init_module);
DUMMY(initgroups);
DISPATCH_GLIBC(initstate);
DUMMY(inotify_add_watch);
DUMMY(inotify_init);
DUMMY(inotify_init1);
DUMMY(inotify_rm_watch);
DUMMY(insque);
DISPATCH_GLIBC(ioctl);
DISPATCH_GLIBC(isalnum);
DISPATCH_GLIBC(isalnum_l);
DISPATCH_GLIBC(isalpha);
DISPATCH_GLIBC(isalpha_l);
DISPATCH_GLIBC(isascii);
DISPATCH_GLIBC(isatty);
DISPATCH_GLIBC(isblank);
DISPATCH_GLIBC(isblank_l);
DISPATCH_GLIBC(iscntrl);
DISPATCH_GLIBC(iscntrl_l);
DISPATCH_GLIBC(isdigit);
DISPATCH_GLIBC(isdigit_l);
DUMMY(isfinite);
DUMMY(isfinitef);
DUMMY(isfinitel);
DISPATCH_GLIBC(isgraph);
DISPATCH_GLIBC(isgraph_l);
//DUMMY(isinf);
//DUMMY(isinff);
//DUMMY(isinfl);
DISPATCH_GLIBC(islower);
DISPATCH_GLIBC(islower_l);
//DUMMY(isnan);
//DUMMY(isnanf);
//DUMMY(isnanl);
DUMMY(isnormal);
DUMMY(isnormalf);
DUMMY(isnormall);
DISPATCH_GLIBC(isprint);
DISPATCH_GLIBC(isprint_l);
DISPATCH_GLIBC(ispunct);
DISPATCH_GLIBC(ispunct_l);
DISPATCH_GLIBC(issetugid);
DISPATCH_GLIBC(isspace);
DISPATCH_GLIBC(isspace_l);
DISPATCH_GLIBC(isupper);
DISPATCH_GLIBC(isupper_l);
DISPATCH_GLIBC(iswalnum);
DISPATCH_GLIBC(iswalnum_l);
DISPATCH_GLIBC(iswalpha);
DISPATCH_GLIBC(iswalpha_l);
DISPATCH_GLIBC(iswblank);
DISPATCH_GLIBC(iswblank_l);
DISPATCH_GLIBC(iswcntrl);
DISPATCH_GLIBC(iswcntrl_l);
DISPATCH_GLIBC(iswctype);
DISPATCH_GLIBC(iswctype_l);
DISPATCH_GLIBC(iswdigit);
DISPATCH_GLIBC(iswdigit_l);
DISPATCH_GLIBC(iswgraph);
DISPATCH_GLIBC(iswgraph_l);
DISPATCH_GLIBC(iswlower);
DISPATCH_GLIBC(iswlower_l);
DISPATCH_GLIBC(iswprint);
DISPATCH_GLIBC(iswprint_l);
DISPATCH_GLIBC(iswpunct);
DISPATCH_GLIBC(iswpunct_l);
DISPATCH_GLIBC(iswspace);
DISPATCH_GLIBC(iswspace_l);
DISPATCH_GLIBC(iswupper);
DISPATCH_GLIBC(iswupper_l);
DISPATCH_GLIBC(iswxdigit);
DISPATCH_GLIBC(iswxdigit_l);
DISPATCH_GLIBC(isxdigit);
DISPATCH_GLIBC(isxdigit_l);
DISPATCH_GLIBC(jrand48);
DUMMY(kill);
DUMMY(killpg);
DUMMY(klogctl);
DISPATCH_GLIBC(labs);
DUMMY(lchown);
DUMMY(lcong48);
//DUMMY(ldexp);
DUMMY(ldiv);
DUMMY(lfind);
DUMMY(lgetxattr);
DISPATCH_GLIBC(link);
DISPATCH_GLIBC(linkat);
DISPATCH_GLIBC(listen);
DUMMY(listxattr);
DISPATCH_GLIBC(llabs);
DISPATCH_GLIBC(lldiv);
DUMMY(llistxattr);
DISPATCH_GLIBC(localeconv);
DISPATCH_GLIBC(localtime);
DISPATCH_GLIBC(localtime64);
DISPATCH_GLIBC(localtime64_r);
DISPATCH_GLIBC(localtime_r);
DUMMY(login_tty);
DISPATCH_SETJMP(longjmp);
DISPATCH_GLIBC(lrand48);
DUMMY(lremovexattr);
DUMMY(lsearch);
DISPATCH_GLIBC(lseek);
DUMMY(lseek64);
DUMMY(lsetxattr);
//DUMMY(lstat);
DUMMY(lstat64);
DISPATCH_GLIBC(madvise);
DISPATCH_GLIBC(mallinfo);
DISPATCH_GLIBC(malloc);
DUMMY(malloc_info);
DUMMY(malloc_usable_size);
DISPATCH_GLIBC(mbrlen);
DISPATCH_GLIBC(mbrtoc16);
DISPATCH_GLIBC(mbrtoc32);
DISPATCH_GLIBC(mbrtowc);
DISPATCH_GLIBC(mbsinit);
DISPATCH_GLIBC(mbsnrtowcs);
DISPATCH_GLIBC(mbsrtowcs);
DISPATCH_GLIBC(mbstowcs);
DISPATCH_GLIBC(mbtowc);
DISPATCH_GLIBC(memalign);
DISPATCH_GLIBC(memccpy);
DISPATCH_GLIBC(memchr);
DISPATCH_GLIBC(memcmp);
DISPATCH_GLIBC(memcpy);
DISPATCH_GLIBC(memmem);
DISPATCH_GLIBC(memmove);
DISPATCH_GLIBC(mempcpy);
DISPATCH_GLIBC(memrchr);
DISPATCH_GLIBC(memset);
DISPATCH_GLIBC(memswap);
DUMMY(mincore);
DISPATCH_GLIBC(mkdir);
DISPATCH_GLIBC(mkdirat);
DISPATCH_GLIBC(mkdtemp);
DUMMY(mkfifo);
DUMMY(mkfifoat);
//DUMMY(mknod);
//DUMMY(mknodat);
DISPATCH_GLIBC(mkostemp);
DISPATCH_GLIBC(mkostemp64);
DISPATCH_GLIBC(mkostemps);
DISPATCH_GLIBC(mkostemps64);
DISPATCH_GLIBC(mkstemp);
DISPATCH_GLIBC(mkstemp64);
DISPATCH_GLIBC(mkstemps);
DISPATCH_GLIBC(mkstemps64);
DISPATCH_GLIBC(mktemp);
DISPATCH_GLIBC(mktime);
DUMMY(mktime64);
DUMMY(mktime_tz);
DUMMY(mlock);
DUMMY(mlockall);
DISPATCH_GLIBC(mmap);
DISPATCH_GLIBC(mmap64);
DUMMY(mount);
DISPATCH_GLIBC(mprotect);
DISPATCH_GLIBC(mrand48);
DUMMY(mremap);
DUMMY(msync);
DUMMY(munlock);
DUMMY(munlockall);
DISPATCH_GLIBC(munmap);
DISPATCH_GLIBC(nanosleep);
DISPATCH_GLIBC(newlocale);
DUMMY(nftw);
DUMMY(nftw64);
DISPATCH_GLIBC(nice);
DISPATCH_GLIBC(nrand48);
DUMMY(ns_format_ttl);
DUMMY(ns_get16);
DUMMY(ns_get32);
DUMMY(ns_initparse);
DUMMY(ns_makecanon);
DUMMY(ns_msg_getflag);
DUMMY(ns_name_compress);
DUMMY(ns_name_ntol);
DUMMY(ns_name_ntop);
DUMMY(ns_name_pack);
DUMMY(ns_name_pton);
DUMMY(ns_name_rollback);
DUMMY(ns_name_skip);
DUMMY(ns_name_uncompress);
DUMMY(ns_name_unpack);
DUMMY(ns_parserr);
DUMMY(ns_put16);
DUMMY(ns_put32);
DUMMY(ns_samename);
DUMMY(ns_skiprr);
DUMMY(ns_sprintrr);
DUMMY(ns_sprintrrf);
DUMMY(nsdispatch);
DUMMY(ntohl);
DUMMY(ntohs);
DISPATCH_GLIBC(open);
DUMMY(open64);
DUMMY(open_memstream);
DUMMY(open_wmemstream);
DISPATCH_GLIBC(openat);
DISPATCH_GLIBC(openat64);
DISPATCH_GLIBC(opendir);
//DUMMY(openlog);
DUMMY(openpty);
DUMMY(optarg);
DUMMY(opterr);
DUMMY(optind);
DUMMY(optopt);
DUMMY(optreset);
DISPATCH_GLIBC(pathconf);
DUMMY(pause);
DUMMY(pclose);
DISPATCH_GLIBC(perror);
DUMMY(personality);
DISPATCH_GLIBC(pipe);
DISPATCH_GLIBC(pipe2);
DISPATCH_GLIBC(poll);
DUMMY(popen);
DUMMY(posix_fadvise);
DUMMY(posix_fadvise64);
DUMMY(posix_fallocate);
DUMMY(posix_fallocate64);
DUMMY(posix_madvise);
DISPATCH_GLIBC(posix_memalign);
DISPATCH_GLIBC(posix_openpt);
DUMMY(ppoll);
DISPATCH_GLIBC(prctl);
DISPATCH_GLIBC(pread);
DISPATCH_GLIBC(pread64);
//DUMMY(printf);
DUMMY(prlimit);
DUMMY(prlimit64);
DUMMY(process_vm_readv);
DUMMY(process_vm_writev);
DUMMY(pselect);
DUMMY(psiginfo);
DUMMY(psignal);
DUMMY(pthread_atfork);
/*DISPATCH_GLIBC(pthread_attr_destroy);
DISPATCH_GLIBC(pthread_attr_getdetachstate);
DISPATCH_GLIBC(pthread_attr_getguardsize);
DISPATCH_GLIBC(pthread_attr_getschedparam);
DISPATCH_GLIBC(pthread_attr_getschedpolicy);
DISPATCH_GLIBC(pthread_attr_getscope);
DISPATCH_GLIBC(pthread_attr_getstack);
DISPATCH_GLIBC(pthread_attr_getstackaddr);
DISPATCH_GLIBC(pthread_attr_getstacksize);
DISPATCH_GLIBC(pthread_attr_init);
DISPATCH_GLIBC(pthread_attr_setdetachstate);
DISPATCH_GLIBC(pthread_attr_setguardsize);
DISPATCH_GLIBC(pthread_attr_setschedparam);
DISPATCH_GLIBC(pthread_attr_setschedpolicy);
DISPATCH_GLIBC(pthread_attr_setscope);
DISPATCH_GLIBC(pthread_attr_setstack);
DISPATCH_GLIBC(pthread_attr_setstackaddr);
DISPATCH_GLIBC(pthread_attr_setstacksize);*/
//DUMMY(pthread_cond_broadcast);
//DUMMY(pthread_cond_destroy);
//DUMMY(pthread_cond_init);
//DUMMY(pthread_cond_signal);
//DUMMY(pthread_cond_timedwait);
DUMMY(pthread_cond_timedwait_monotonic);
DUMMY(pthread_cond_timedwait_monotonic_np);
//DUMMY(pthread_cond_timedwait_relative_np);
DUMMY(pthread_cond_timeout_np);
//DUMMY(pthread_cond_wait);
DISPATCH_PTHREAD(pthread_condattr_destroy);
DISPATCH_PTHREAD(pthread_condattr_getclock);
DISPATCH_PTHREAD(pthread_condattr_getpshared);
DISPATCH_PTHREAD(pthread_condattr_init);
DISPATCH_PTHREAD(pthread_condattr_setclock);
DISPATCH_PTHREAD(pthread_condattr_setpshared);
DISPATCH_PTHREAD(pthread_detach);
DISPATCH_PTHREAD(pthread_equal);
DISPATCH_PTHREAD(pthread_exit);
DUMMY(pthread_getattr_np);
DUMMY(pthread_getcpuclockid);
DUMMY(pthread_getschedparam);
DISPATCH_PTHREAD(pthread_getspecific);
//DUMMY(pthread_gettid_np);
DISPATCH_PTHREAD(pthread_join);
DISPATCH_RT(pthread_key_create);
DISPATCH_PTHREAD(pthread_key_delete);
DISPATCH_PTHREAD(pthread_kill);
//DUMMY(pthread_mutex_destroy);
//DUMMY(pthread_mutex_init);
//DUMMY(pthread_mutex_lock);
DUMMY(pthread_mutex_lock_timeout_np);
DUMMY(pthread_mutex_timedlock);
//DUMMY(pthread_mutex_trylock);
//DUMMY(pthread_mutex_unlock);
DISPATCH_PTHREAD(pthread_mutexattr_destroy);
DISPATCH_PTHREAD(pthread_mutexattr_getpshared);
DISPATCH_PTHREAD(pthread_mutexattr_gettype);
DISPATCH_PTHREAD(pthread_mutexattr_init);
DISPATCH_PTHREAD(pthread_mutexattr_setpshared);
DISPATCH_PTHREAD(pthread_mutexattr_settype);
DISPATCH_RT(pthread_once);
DISPATCH_PTHREAD(pthread_rwlock_destroy);
DISPATCH_PTHREAD(pthread_rwlock_init);
DISPATCH_PTHREAD(pthread_rwlock_rdlock);
DISPATCH_PTHREAD(pthread_rwlock_timedrdlock);
DISPATCH_PTHREAD(pthread_rwlock_timedwrlock);
DISPATCH_PTHREAD(pthread_rwlock_tryrdlock);
DISPATCH_PTHREAD(pthread_rwlock_trywrlock);
DISPATCH_PTHREAD(pthread_rwlock_unlock);
DISPATCH_PTHREAD(pthread_rwlock_wrlock);
DISPATCH_PTHREAD(pthread_rwlockattr_destroy);
DISPATCH_PTHREAD(pthread_rwlockattr_getkind_np);
DISPATCH_PTHREAD(pthread_rwlockattr_getpshared);
DISPATCH_PTHREAD(pthread_rwlockattr_init);
DISPATCH_PTHREAD(pthread_rwlockattr_setkind_np);
DISPATCH_PTHREAD(pthread_rwlockattr_setpshared);
DISPATCH_GLIBC(pthread_self);
DUMMY(pthread_setname_np);
DUMMY(pthread_setschedparam);
DISPATCH_RT(pthread_setspecific);
DUMMY(pthread_sigmask);
DISPATCH_GLIBC(ptrace);
DISPATCH_GLIBC(ptsname);
DISPATCH_GLIBC(ptsname_r);
DISPATCH_GLIBC(putc);
DISPATCH_GLIBC(putc_unlocked);
DISPATCH_GLIBC(putchar);
DISPATCH_GLIBC(putchar_unlocked);
DISPATCH_GLIBC(putenv);
DISPATCH_GLIBC(puts);
DUMMY(pututline);
DUMMY(putw);
//DUMMY(putwc);
DISPATCH_GLIBC(putwchar);
DUMMY(pvalloc);
DUMMY(pwrite);
DUMMY(pwrite64);
DISPATCH_GLIBC(qsort);
DUMMY(quick_exit);
DISPATCH_GLIBC(raise);
DISPATCH_GLIBC(rand);
DISPATCH_GLIBC(rand_r);
DISPATCH_GLIBC(random);
DISPATCH_GLIBC(read);
DUMMY(readahead);
//DUMMY(readdir);
DUMMY(readdir64);
DUMMY(readdir64_r);
//DUMMY(readdir_r);
DISPATCH_GLIBC(readlink);
DUMMY(readlinkat);
DUMMY(readv);
DISPATCH_GLIBC(realloc);
DISPATCH_GLIBC(realpath);
DISPATCH_GLIBC(reboot);
DUMMY(recv);
DISPATCH_GLIBC(recvfrom);
DISPATCH_GLIBC(recvmmsg);
DISPATCH_GLIBC(recvmsg);
DUMMY(regcomp);
DUMMY(regerror);
DUMMY(regexec);
DUMMY(regfree);
DUMMY(remove);
DUMMY(removexattr);
DUMMY(remque);
DISPATCH_GLIBC(rename);
DISPATCH_GLIBC(renameat);
DUMMY(res_init);
DUMMY(res_mkquery);
DUMMY(res_query);
DUMMY(res_search);
DUMMY(restore_core_regs);
//DUMMY(rewind);
DUMMY(rewinddir);
DISPATCH_GLIBC(rmdir);
DUMMY(sbrk);
DUMMY(scandir);
DUMMY(scandir64);
//DUMMY(scanf);
DISPATCH_GLIBC(sched_get_priority_max);
DISPATCH_GLIBC(sched_get_priority_min);
DISPATCH_GLIBC(sched_getaffinity);
DISPATCH_GLIBC(sched_getcpu);
DISPATCH_GLIBC(sched_getparam);
DISPATCH_GLIBC(sched_getscheduler);
DISPATCH_GLIBC(sched_rr_get_interval);
DISPATCH_GLIBC(sched_setaffinity);
DISPATCH_GLIBC(sched_setparam);
DISPATCH_GLIBC(sched_setscheduler);
DISPATCH_GLIBC(sched_yield);
DISPATCH_GLIBC(seed48);
DUMMY(seekdir);
DISPATCH_GLIBC(select);
DISPATCH_PTHREAD(sem_close);
DISPATCH_PTHREAD(sem_destroy);
DISPATCH_PTHREAD(sem_getvalue);
DISPATCH_PTHREAD(sem_init);
DISPATCH_PTHREAD(sem_open);
DISPATCH_PTHREAD(sem_post);
DISPATCH_PTHREAD(sem_timedwait);
DISPATCH_PTHREAD(sem_trywait);
DISPATCH_PTHREAD(sem_unlink);
DISPATCH_PTHREAD(sem_wait);
DISPATCH_GLIBC(send);
DISPATCH_GLIBC(sendfile);
DISPATCH_GLIBC(sendfile64);
DISPATCH_GLIBC(sendmmsg);
DISPATCH_GLIBC(sendmsg);
DISPATCH_GLIBC(sendto);
DISPATCH_GLIBC(setbuf);
DISPATCH_GLIBC(setbuffer);
DISPATCH_GLIBC(setegid);
DISPATCH_GLIBC(setenv);
DISPATCH_GLIBC(seteuid);
DISPATCH_GLIBC(setfsgid);
DISPATCH_GLIBC(setfsuid);
DISPATCH_GLIBC(setgid);
DISPATCH_GLIBC(setgroups);
DISPATCH_GLIBC(sethostname);
DISPATCH_GLIBC(setitimer);
DISPATCH_SETJMP(setjmp);
DISPATCH_GLIBC(setlinebuf);
DISPATCH_GLIBC(setlocale);
DISPATCH_GLIBC(setlogmask);
DISPATCH_GLIBC(setmntent);
DISPATCH_GLIBC(setns);
DISPATCH_GLIBC(setpgid);
DISPATCH_GLIBC(setpgrp);
DISPATCH_GLIBC(setpriority);
//DUMMY(setprogname);
DISPATCH_GLIBC(setregid);
DISPATCH_GLIBC(setresgid);
DISPATCH_GLIBC(setresuid);
DISPATCH_GLIBC(setreuid);
DISPATCH_GLIBC(setrlimit);
DISPATCH_GLIBC(setrlimit64);
DISPATCH_GLIBC(setservent);
DISPATCH_GLIBC(setsid);
DISPATCH_GLIBC(setsockopt);
DISPATCH_GLIBC(setstate);
DISPATCH_GLIBC(settimeofday);
DISPATCH_GLIBC(setuid);
DISPATCH_GLIBC(setusershell);
DISPATCH_GLIBC(setutent);
DISPATCH_GLIBC(setvbuf);
DISPATCH_GLIBC(setxattr);
DISPATCH_GLIBC(shutdown);
// TODO These sig functions were changed from SETJMP to GLIBC
DISPATCH_GLIBC(sigaction);
DISPATCH_GLIBC(sigaddset);
DISPATCH_GLIBC(sigaltstack);
DISPATCH_GLIBC(sigblock);
DISPATCH_GLIBC(sigdelset);
DISPATCH_GLIBC(sigemptyset);
DISPATCH_GLIBC(sigfillset);
DISPATCH_GLIBC(siginterrupt);
DISPATCH_GLIBC(sigismember);
DISPATCH_GLIBC(siglongjmp);
DISPATCH_GLIBC(signal);
DISPATCH_GLIBC(signalfd);
DISPATCH_GLIBC(sigpending);
DISPATCH_GLIBC(sigprocmask);
DISPATCH_GLIBC(sigqueue);
DISPATCH_GLIBC(sigsetjmp);
DISPATCH_GLIBC(sigsetmask);
DISPATCH_GLIBC(sigsuspend);
DISPATCH_GLIBC(sigtimedwait);
DISPATCH_GLIBC(sigwait);
DISPATCH_GLIBC(sigwaitinfo);

DISPATCH_GLIBC(sleep);
//DUMMY(snprintf);
DISPATCH_GLIBC(socket);
DISPATCH_GLIBC(socketpair);
DUMMY(splice);
//DUMMY(sprintf);
DISPATCH_GLIBC(srand);
DISPATCH_GLIBC(srand48);
DISPATCH_GLIBC(srandom);
//DUMMY(sscanf);
//DUMMY(stat);
DISPATCH_GLIBC(stat64);
DISPATCH_GLIBC(statfs);
DISPATCH_GLIBC(statfs64);
DISPATCH_GLIBC(statvfs);
DISPATCH_GLIBC(statvfs64);
//DUMMY(stderr);
//DUMMY(stdin);
//DUMMY(stdout);
DISPATCH_GLIBC(stpcpy);
DISPATCH_GLIBC(stpncpy);
DISPATCH_GLIBC(strcasecmp);
DISPATCH_GLIBC(strcasecmp_l);
DISPATCH_GLIBC(strcasestr);
DISPATCH_GLIBC(strcat);
DISPATCH_GLIBC(strchr);
DISPATCH_GLIBC(strcmp);
DISPATCH_GLIBC(strcoll);
DISPATCH_GLIBC(strcoll_l);
DISPATCH_GLIBC(strcpy);
DISPATCH_GLIBC(strcspn);
DISPATCH_GLIBC(strdup);
DISPATCH_GLIBC(strerror);
DISPATCH_GLIBC(strerror_l);
DISPATCH_GLIBC(strerror_r);
DISPATCH_GLIBC(strftime);
DISPATCH_GLIBC(strftime_l);
//DUMMY(strlcat);
//DUMMY(strlcpy);
DISPATCH_GLIBC(strlen);
DISPATCH_GLIBC(strncasecmp);
DISPATCH_GLIBC(strncasecmp_l);
DISPATCH_GLIBC(strncat);
DISPATCH_GLIBC(strncmp);
DISPATCH_GLIBC(strncpy);
DISPATCH_GLIBC(strndup);
DISPATCH_GLIBC(strnlen);
DISPATCH_GLIBC(strntoimax);
DISPATCH_GLIBC(strntoumax);
DISPATCH_GLIBC(strpbrk);
DISPATCH_GLIBC(strptime);
DISPATCH_GLIBC(strrchr);
DISPATCH_GLIBC(strsep);
DISPATCH_GLIBC(strsignal);
DISPATCH_GLIBC(strspn);
DISPATCH_GLIBC(strstr);
//DUMMY(strtod);
//DUMMY(strtof);
DISPATCH_GLIBC(strtoimax);
DISPATCH_GLIBC(strtok);
DISPATCH_GLIBC(strtok_r);
DISPATCH_GLIBC(strtol);
//DUMMY(strtold);
//DUMMY(strtold_l);
DISPATCH_GLIBC(strtoll);
DISPATCH_GLIBC(strtoll_l);
DISPATCH_GLIBC(strtoq);
DISPATCH_GLIBC(strtotimeval);
DISPATCH_GLIBC(strtoul);
DISPATCH_GLIBC(strtoull);
DISPATCH_GLIBC(strtoull_l);
DISPATCH_GLIBC(strtoumax);
DISPATCH_GLIBC(strtouq);
DISPATCH_GLIBC(strxfrm);
DISPATCH_GLIBC(strxfrm_l);
DUMMY(swapoff);
DUMMY(swapon);
//DUMMY(swprintf);
//DUMMY(swscanf);
DUMMY(symlink);
DUMMY(symlinkat);
DISPATCH_GLIBC(sync);
DUMMY(sys_siglist);
DUMMY(sys_signame);
DISPATCH_GLIBC(syscall);
//DUMMY(sysconf);
DISPATCH_GLIBC(sysinfo);
//DUMMY(syslog);
DISPATCH_GLIBC(system);
DUMMY(sysv_signal);
DUMMY(tcdrain);
DUMMY(tcflow);
DUMMY(tcflush);
DISPATCH_GLIBC(tcgetattr);
DUMMY(tcgetpgrp);
DUMMY(tcgetsid);
DUMMY(tcsendbreak);
DISPATCH_GLIBC(tcsetattr);
DUMMY(tcsetpgrp);
DUMMY(tdelete);
DUMMY(tdestroy);
DUMMY(tee);
DUMMY(telldir);
DUMMY(tempnam);
DUMMY(tfind);
//DUMMY(tgkill);
DISPATCH_GLIBC(time);
DISPATCH_GLIBC(timegm);
DISPATCH_GLIBC(timegm64);
DISPATCH_GLIBC(timelocal);
DISPATCH_GLIBC(timelocal64);
DISPATCH_RT(timer_create);
DISPATCH_RT(timer_delete);
DISPATCH_RT(timer_getoverrun);
DISPATCH_RT(timer_gettime);
DISPATCH_RT(timer_settime);
DISPATCH_GLIBC(timerfd_create);
DISPATCH_GLIBC(timerfd_gettime);
DISPATCH_GLIBC(timerfd_settime);
DISPATCH_GLIBC(times);
DISPATCH_GLIBC(timezone);
DUMMY(tkill);
DISPATCH_GLIBC(tmpfile);
DISPATCH_GLIBC(tmpnam);
DISPATCH_GLIBC(toascii);
DISPATCH_GLIBC(tolower);
DISPATCH_GLIBC(tolower_l);
DISPATCH_GLIBC(toupper);
DISPATCH_GLIBC(toupper_l);
DISPATCH_GLIBC(towlower);
DISPATCH_GLIBC(towlower_l);
DISPATCH_GLIBC(towupper);
DISPATCH_GLIBC(towupper_l);
DUMMY(truncate);
DUMMY(truncate64);
DUMMY(tsearch);
DUMMY(ttyname);
DUMMY(ttyname_r);
DUMMY(twalk);
DISPATCH_GLIBC(tzname);
DISPATCH_GLIBC(tzset);
DISPATCH_GLIBC(umask);
DUMMY(umount);
DUMMY(umount2);
DISPATCH_GLIBC(uname);
//DUMMY(ungetc);
DUMMY(ungetwc);
DISPATCH_GLIBC(unlink);
DISPATCH_GLIBC(unlinkat);
DISPATCH_GLIBC(unlockpt);
DISPATCH_GLIBC(unsetenv);
DUMMY(unshare);
DISPATCH_GLIBC(uselocale);
DISPATCH_GLIBC(usleep);
DUMMY(utime);
DUMMY(utimensat);
DUMMY(utimes);
DUMMY(utmpname);
DUMMY(valloc);
//DUMMY(vasprintf);
//DUMMY(vdprintf);
DUMMY(verr);
DUMMY(verrx);
DUMMY(vfdprintf);
DISPATCH_GLIBC(vfork);
//DUMMY(vfprintf);
//DUMMY(vfscanf);
//DUMMY(vfwprintf);
//DUMMY(vfwscanf);
DUMMY(vmsplice);
//DUMMY(vprintf);
//DUMMY(vscanf);
//DUMMY(vsnprintf);
//DUMMY(vsprintf);
//DUMMY(vswprintf);
//DUMMY(vswscanf);
DUMMY(vsyslog);
DUMMY(vwarn);
DUMMY(vwarnx);
//DUMMY(vwprintf);
//DUMMY(vwscanf);
DUMMY(wait);
DUMMY(wait3);
DUMMY(wait4);
DUMMY(waitid);
DISPATCH_GLIBC(waitpid);
DUMMY(warn);
DUMMY(warnx);
DISPATCH_GLIBC(wcpcpy);
DISPATCH_GLIBC(wcpncpy);
DISPATCH_GLIBC(wcrtomb);
DISPATCH_GLIBC(wcscasecmp);
DISPATCH_GLIBC(wcscasecmp_l);
DISPATCH_GLIBC(wcscat);
DISPATCH_GLIBC(wcschr);
DISPATCH_GLIBC(wcscmp);
DISPATCH_GLIBC(wcscoll);
DISPATCH_GLIBC(wcscoll_l);
DISPATCH_GLIBC(wcscpy);
DISPATCH_GLIBC(wcscspn);
DISPATCH_GLIBC(wcsdup);
DISPATCH_GLIBC(wcsftime);
DISPATCH_GLIBC(wcslcat);
DISPATCH_GLIBC(wcslcpy);
DISPATCH_GLIBC(wcslen);
DISPATCH_GLIBC(wcsncasecmp);
DISPATCH_GLIBC(wcsncasecmp_l);
DISPATCH_GLIBC(wcsncat);
DISPATCH_GLIBC(wcsncmp);
DISPATCH_GLIBC(wcsncpy);
DISPATCH_GLIBC(wcsnlen);
DISPATCH_GLIBC(wcsnrtombs);
DISPATCH_GLIBC(wcspbrk);
DISPATCH_GLIBC(wcsrchr);
DISPATCH_GLIBC(wcsrtombs);
DISPATCH_GLIBC(wcsspn);
DISPATCH_GLIBC(wcsstr);
//DUMMY(wcstod);
//DUMMY(wcstof);
DISPATCH_GLIBC(wcstoimax);
DISPATCH_GLIBC(wcstok);
DISPATCH_GLIBC(wcstol);
//DUMMY(wcstold);
//DUMMY(wcstold_l);
DISPATCH_GLIBC(wcstoll);
DISPATCH_GLIBC(wcstoll_l);
DISPATCH_GLIBC(wcstombs);
DISPATCH_GLIBC(wcstoul);
DISPATCH_GLIBC(wcstoull);
DISPATCH_GLIBC(wcstoull_l);
DISPATCH_GLIBC(wcstoumax);
DISPATCH_GLIBC(wcswcs);
DISPATCH_GLIBC(wcswidth);
DISPATCH_GLIBC(wcsxfrm);
DISPATCH_GLIBC(wcsxfrm_l);
DISPATCH_GLIBC(wctob);
DISPATCH_GLIBC(wctomb);
DISPATCH_GLIBC(wctype);
DISPATCH_GLIBC(wctype_l);
DISPATCH_GLIBC(wcwidth);
DISPATCH_GLIBC(wmemchr);
DISPATCH_GLIBC(wmemcmp);
DISPATCH_GLIBC(wmemcpy);
DISPATCH_GLIBC(wmemmove);
DISPATCH_GLIBC(wmempcpy);
DISPATCH_GLIBC(wmemset);
//DUMMY(wprintf);
DISPATCH_GLIBC(write);
DISPATCH_GLIBC(writev);
//DUMMY(wscanf);
}

